<!DOCTYPE html>
<html lang="th" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ | SwapLife</title>
<script src="https://cdn.tailwindcss.com"></script>
<link
	href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@400;500;700&display=swap"
	rel="stylesheet">
<style>
body {
	font-family: 'IBM Plex Sans Thai', sans-serif;
}
</style>
</head>

<!-- SweetAlert -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<body
	class="flex flex-col min-h-screen bg-gradient-to-br from-gray-50 to-green-50">

	<!-- Navbar -->
	<nav class="bg-white shadow-md">
		<div class="max-w-6xl mx-auto px-4">
			<div class="flex justify-between">
				<div class="flex space-x-7">
					<div>
						<a th:href="@{/}" class="flex items-center py-4 px-2"> <span
							class="font-bold text-gray-700 text-2xl">SwapLife üåç</span>
						</a>
					</div>
				</div>
				<div class="hidden md:flex items-center space-x-3">
					<a th:href="@{/}"
						class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">üè†
						‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a> <a th:href="@{/items/list}"
						class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">üì¶
						‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</a> <a th:href="@{/items/post}"
						class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">‚ûï
						‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏Ç‡∏≠‡∏á</a> <a th:href="@{/profile}"
						class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">üë§
						‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</a>
				</div>
			</div>
		</div>
	</nav>

	<!-- Content -->
	<main class="flex-grow">
		<div class="max-w-4xl mx-auto px-4 py-10">
			<div class="bg-white rounded-2xl shadow-lg p-8">

				<!-- Header -->
				<div class="mb-6">
					<h1 class="text-3xl font-bold text-gray-800">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h1>
					<p class="text-gray-600 mt-2">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
				</div>

				<!-- ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° Error -->
				<div th:if="${errorMessage}"
					class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-4">
					<span th:text="${errorMessage}"></span>
				</div>

				<!-- Form -->
				<form th:action="@{/items/update/{id}(id=${item.itemId})}"
					method="post" enctype="multipart/form-data">

					<!-- ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
					<div class="mb-5">
						<label class="block text-gray-700 font-semibold mb-2">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
							*</label> <input type="text" name="title" th:value="${item.title}"
							required
							class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
							placeholder="‡πÄ‡∏ä‡πà‡∏ô iPhone 13 Pro Max">
					</div>

					<!-- ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ -->
					<div class="mb-5">
						<label class="block text-gray-700 font-semibold mb-2">‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
							*</label>
						<textarea name="description" rows="5" required
							class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
							placeholder="‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏™‡∏†‡∏≤‡∏û ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏∑‡πà‡∏ô‡πÜ"
							th:text="${item.description}"></textarea>
					</div>

					<!-- ‡∏™‡∏†‡∏≤‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
					<div class="mb-5">
						<label class="block text-gray-700 font-semibold mb-2">‡∏™‡∏†‡∏≤‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
							*</label> <select name="itemCondition" required
							class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
							<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏†‡∏≤‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ --</option>
							<option value="‡πÉ‡∏´‡∏°‡πà"
								th:selected="${item.itemCondition.name() == '‡πÉ‡∏´‡∏°‡πà'}">‡πÉ‡∏´‡∏°‡πà</option>
							<option value="‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà"
								th:selected="${item.itemCondition.name() == '‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà'}">‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà</option>
							<option value="‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß"
								th:selected="${item.itemCondition.name() == '‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß'}">‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß</option>
						</select>
					</div>

					<!-- ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà -->
					<div class="mb-5">
						<label class="block text-gray-700 font-semibold mb-2">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà
							*</label> <select name="categoryId" required
							class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
							<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà --</option>
							<option th:each="cat : ${categories}"
								th:value="${cat.categoryId}" th:text="${cat.name}"
								th:selected="${item.category.categoryId == cat.categoryId}">
							</option>
						</select>
					</div>

					<!-- ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® -->
					<div class="mb-5">
						<label class="block text-gray-700 font-semibold mb-2">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®
							*</label> <select name="listingType" required
							class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
							<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó --</option>
							<option value="‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô"
								th:selected="${item.listingType.name() == '‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô'}">üîÑ
								‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô</option>
							<option value="‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ"
								th:selected="${item.listingType.name() == '‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ'}">üéÅ
								‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ</option>
						</select>
					</div>

					<!-- ‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏Å (‡∏ñ‡πâ‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‡πÅ‡∏•‡∏Å‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô) -->
					<div class="mb-5">
						<label class="block text-gray-700 font-semibold mb-2">‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏Å
							(‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label> <input type="text" name="desiredItems"
							th:value="${item.desiredItems}"
							class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"
							placeholder="‡πÄ‡∏ä‡πà‡∏ô MacBook, ‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠">
					</div>

					<!-- ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô -->
					<div class="mb-5">
						<label class="block text-gray-700 font-semibold mb-2">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</label>
						<div class="grid grid-cols-4 gap-4">
							<div th:each="img : ${item.images}" class="relative">
								<img th:src="${img.imageUrl}"
									class="w-full h-24 object-cover rounded-lg border"> <span
									th:if="${img.thumbnail}"
									class="absolute top-1 right-1 bg-green-500 text-white text-xs px-2 py-1 rounded">
									‡∏´‡∏•‡∏±‡∏Å </span>
							</div>
						</div>
						<p class="text-sm text-gray-500 mt-2">üí° ‡∏´‡∏≤‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏π‡∏õ
							‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏´‡∏°‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</p>
					</div>

					<!-- ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏´‡∏°‡πà (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£) -->
					<div class="mb-5">
						<label class="block text-gray-700 font-semibold mb-2">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏´‡∏°‡πà
							(‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô)</label> <input type="file" name="thumbnail"
							accept="image/*"
							class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none">
						<p class="text-sm text-gray-500 mt-1">‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î
							‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡πÄ‡∏î‡∏¥‡∏°</p>
					</div>

					<div class="mb-5">
						<label class="block text-gray-700 font-semibold mb-2">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏™‡∏£‡∏¥‡∏°‡πÉ‡∏´‡∏°‡πà
							(‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô)</label> <input type="file" name="images"
							accept="image/*" multiple
							class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none">
						<p class="text-sm text-gray-500 mt-1">‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î
							‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡πÄ‡∏î‡∏¥‡∏°</p>
					</div>

					<!-- ‡∏õ‡∏∏‡πà‡∏° -->
					<div class="flex gap-3">
						<button type="submit"
							class="flex-1 bg-green-500 hover:bg-green-600 text-white font-semibold py-3 rounded-lg transition">
							‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
						<a th:href="@{/items/mine}"
							class="flex-1 bg-gray-400 hover:bg-gray-500 text-white font-semibold py-3 rounded-lg text-center transition">
							‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å </a>
					</div>

				</form>
			</div>
		</div>
	</main>

	<!-- Footer -->
	<footer class="bg-gray-800 text-white py-8 mt-16">
		<div class="container mx-auto text-center">
			<p class="mb-2">&copy; 2025 SwapLife. All Rights Reserved.</p>
			<p class="text-sm text-gray-400">‡πÉ‡∏´‡πâ‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ
				‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏°‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á üåç</p>
		</div>
	</footer>

	<script>
		// ‡πÅ‡∏™‡∏î‡∏á SweetAlert ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ errorMessage
		const errorMsg = /*[[${errorMessage}]]*/null;
		if (errorMsg) {
			Swal.fire({
				icon : 'error',
				title : '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î',
				text : errorMsg,
				confirmButtonColor : '#22c55e'
			});
		}

		// ‡πÅ‡∏™‡∏î‡∏á SweetAlert ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ successMessage
		const successMsg = /*[[${successMessage}]]*/null;
		if (successMsg) {
			Swal.fire({
				icon : 'success',
				title : '‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!',
				text : successMsg,
				confirmButtonColor : '#22c55e'
			});
		}
	</script>

</body>
</html>