<!DOCTYPE html>
<html lang="th" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SwapLife - ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
	href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@400;500;700&display=swap"
	rel="stylesheet">

<link
	href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@400;500;700&display=swap"
	rel="stylesheet">
<link rel="icon" type="image/png"
	th:href="@{/assets/images/favicon/favicon-96x96.png}" sizes="96x96">
<link rel="icon" type="image/svg+xml"
	th:href="@{/assets/images/favicon/favicon.svg}">
<link rel="shortcut icon"
	th:href="@{/assets/images/favicon/favicon.ico}">
<link rel="apple-touch-icon" sizes="180x180"
	th:href="@{/assets/images/favicon/apple-touch-icon.png}">
<link rel="manifest"
	th:href="@{/assets/images/favicon/site.webmanifest}">

<style>
body {
	font-family: 'IBM Plex Sans Thai', sans-serif;
}
</style>
</head>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script th:src="@{/assets/js/profile.js}"></script>
<body
	class="flex flex-col min-h-screen bg-gradient-to-br from-gray-50 to-green-50">

	<!-- Navbar -->
	<nav class="bg-white shadow-md">
		<div class="max-w-6xl mx-auto px-4">
			<div class="flex justify-between">
				<div class="flex space-x-7">
					<div>
						<a th:href="@{/}" class="flex items-center py-4 px-2"> <span
							class="font-bold text-gray-700 text-2xl">SwapLife üåç</span>
						</a>
					</div>
				</div>
				<div class="hidden md:flex items-center space-x-3">
					<a th:href="@{/}"
						class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">üè†
						‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a> <a th:href="@{/items/list}"
						class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">üì¶
						‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á</a> <a th:href="@{/items/post}"
						class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">‚ûï
						‡πÇ‡∏û‡∏™‡∏ï‡πå‡∏Ç‡∏≠‡∏á</a> <a th:href="@{/profile}"
						class="py-4 px-2 text-green-500 border-b-4 border-green-500 font-semibold">üë§
						‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</a>
				</div>
				<div class="md:hidden flex items-center">
					<button class="outline-none mobile-menu-button">
						<svg class="w-6 h-6 text-gray-500" fill="none"
							stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
							viewBox="0 0 24 24" stroke="currentColor">
                            <path d="M4 6h16M4 12h16m-7 6h7"></path>
                        </svg>
					</button>
				</div>
			</div>
		</div>
	</nav>

	<main class="flex-grow py-10">
		<div class="max-w-7xl mx-auto px-4 grid grid-cols-12 gap-6">

			<!-- ‚úÖ Sidebar -->
			<aside class="col-span-12 md:col-span-3">
				<div class="bg-white rounded-2xl shadow-lg overflow-hidden">
					<div class="p-5 flex items-center gap-3 border-b">
						<div
							class="w-14 h-14 rounded-full bg-gray-100 overflow-hidden flex items-center justify-center">
							<img th:if="${user.profilePictureUrl}"
								th:src="${user.profilePictureUrl}"
								class="w-full h-full object-cover" alt=""> <span
								th:if="${user.profilePictureUrl == null}"
								class="text-2xl text-gray-400">üë§</span>
						</div>
						<div>
							<div class="font-semibold text-gray-800"
								th:text="${user.username}">username</div>
							<a th:href="@{/profile}"
								class="text-xs text-green-600 hover:underline">‚úèÔ∏è
								‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</a>
						</div>
					</div>

					<nav class="p-3 text-sm">
						<a th:href="@{/profile}"
							class="flex items-center gap-2 px-3 py-2 rounded-lg bg-green-50 text-green-600 font-medium"><span>üë§</span>
							‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</a> <a th:href="@{/items/mine}"
							class="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-700 font-medium"><span>üì¶</span>
							‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏â‡∏±‡∏ô‡πÇ‡∏û‡∏™‡∏ï‡πå</a>
							<a th:href="@{/logout}"
							class="flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 text-gray-700 font-medium"><span>üëã</span>
							‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</a>
					</nav>
				</div>
			</aside>

			<!-- ‚úÖ Main Content -->
			<section class="col-span-12 md:col-span-9 space-y-10">
				<div class="bg-white shadow-lg rounded-2xl p-10">
					<h2 class="text-2xl font-bold text-gray-700 mb-2">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô</h2>
					<p class="text-sm text-gray-500 mb-8">
						‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ô‡∏µ‡πâ</p>

					<form th:action="@{/profile/update}" method="post"
						enctype="multipart/form-data"
						class="grid grid-cols-1 md:grid-cols-3 gap-10 items-start">

						<!-- LEFT : Personal info -->
						<div class="col-span-2 space-y-5">

							<!-- Username -->
							<div>
								<label class="font-medium text-gray-700">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</label> <input
									type="text" th:value="${user.username}" readonly
									class="w-full border border-gray-200 rounded-xl px-4 py-2.5 mt-1 bg-gray-100 cursor-not-allowed" />
							</div>

							<!-- First Name -->
							<div>
								<label class="font-medium text-gray-700">‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á</label> <input
									type="text" name="firstName" th:value="${user.firstName}"
									placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì"
									class="w-full border border-gray-300 rounded-xl px-4 py-2.5 mt-1 focus:outline-none focus:ring-2 focus:ring-green-400" />
							</div>

							<!-- Last Name -->
							<div>
								<label class="font-medium text-gray-700">‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label> <input
									type="text" name="lastName" th:value="${user.lastName}"
									placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì"
									class="w-full border border-gray-300 rounded-xl px-4 py-2.5 mt-1 focus:outline-none focus:ring-2 focus:ring-green-400" />
							</div>

							<!-- Email -->
							<div>
								<label class="font-medium text-gray-700">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label> <input
									type="email" th:value="${user.email}" readonly
									class="w-full border border-gray-200 rounded-xl px-4 py-2.5 mt-1 bg-gray-100 cursor-not-allowed" />
							</div>

							<!-- Save Button -->
							<div class="pt-4">
								<button type="submit"
									class="flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2.5 rounded-lg transition duration-300 shadow">
									üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á</button>
							</div>
						</div>

						<div class="flex flex-col items-center justify-start">
							<!-- ‚úÖ ‡∏ß‡∏á‡∏Å‡∏•‡∏°‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå -->
							<div
								class="relative w-36 h-36 rounded-full bg-gray-100 flex items-center justify-center overflow-hidden shadow-md mb-4 border-4 border-white ring-2 ring-green-200">
								<img id="profilePreview" th:if="${user.profilePictureUrl}"
									th:src="${user.profilePictureUrl}"
									class="w-full h-full object-cover" alt="‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå"> <span
									th:if="${user.profilePictureUrl == null}"
									class="text-6xl text-gray-400">üë§</span>
							</div>

							<!-- ‚úÖ ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ -->
							<label
								class="cursor-pointer bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 rounded-lg font-medium transition duration-300">
								‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ <input id="profileInput" type="file"
								name="profileImage" class="hidden" accept=".jpg,.jpeg,.png" />
							</label>

							<p class="text-xs text-gray-400 mt-2 text-center leading-tight">
								‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 1MB<br>‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞ .JPEG ‡πÅ‡∏•‡∏∞ .PNG
							</p>
						</div>
					</form>
				</div>
				<!-- üîí ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô -->
				<div class="bg-white shadow-lg rounded-2xl p-10 mt-8">
					<h2 class="text-2xl font-bold text-gray-700 mb-6">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</h2>
					<p class="text-sm text-gray-500 mb-8">‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏ö‡∏±‡∏ç‡∏ä‡∏µ
						‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á</p>

					<form th:action="@{/profile/change-password}" method="post"
						th:object="${passwordForm}" class="space-y-5 max-w-lg">

						<div>
							<label class="font-medium text-gray-700">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</label>
							<input type="password" name="oldPassword" required
								placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏î‡∏¥‡∏°"
								class="w-full border border-gray-300 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-green-400" />
						</div>

						<div>
							<label class="font-medium text-gray-700">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</label> <input
								type="password" name="newPassword" required
								placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà"
								class="w-full border border-gray-300 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-green-400" />
						</div>

						<div>
							<label class="font-medium text-gray-700">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</label>
							<input type="password" name="confirmPassword" required
								placeholder="‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà"
								class="w-full border border-gray-300 rounded-lg px-4 py-2 mt-1 focus:outline-none focus:ring-2 focus:ring-green-400" />
						</div>

						<div class="pt-4">
							<button type="submit"
								class="bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-2 rounded-lg transition duration-300">
								üîë ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</button>
						</div>
					</form>
				</div>
			</section>
		</div>
	</main>

	<!-- Footer -->
	<footer class="bg-gray-800 text-white py-8 mt-16">
		<div class="container mx-auto text-center">
			<p class="mb-2">&copy; 2025 SwapLife. All Rights Reserved.</p>
			<p class="text-sm text-gray-400">‡πÉ‡∏´‡πâ‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ
				‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏°‡∏µ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡πà‡∏≤‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á üåç</p>
		</div>
	</footer>
</body>
</html>
