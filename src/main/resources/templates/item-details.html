<!DOCTYPE html>
<html lang="th" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SwapLife - р╣Вр╕Ыр╕гр╣Др╕Яр╕ер╣Мр╕Вр╕нр╕Зр╕Йр╕▒р╕Щ</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
	href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@400;500;700&display=swap"
	rel="stylesheet">

<link
	href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@400;500;700&display=swap"
	rel="stylesheet">
<link rel="icon" type="image/png"
	th:href="@{/assets/images/favicon/favicon-96x96.png}" sizes="96x96">
<link rel="icon" type="image/svg+xml"
	th:href="@{/assets/images/favicon/favicon.svg}">
<link rel="shortcut icon"
	th:href="@{/assets/images/favicon/favicon.ico}">
<link rel="apple-touch-icon" sizes="180x180"
	th:href="@{/assets/images/favicon/apple-touch-icon.png}">
<link rel="manifest"
	th:href="@{/assets/images/favicon/site.webmanifest}">

<style>
body {
	font-family: 'IBM Plex Sans Thai', sans-serif;
}
</style>
</head>

<body
	class="flex flex-col min-h-screen bg-gradient-to-br from-gray-50 to-green-50">

	<!-- Navbar -->
	<nav class="bg-white shadow-md">
		<div class="max-w-6xl mx-auto px-4">
			<div class="flex justify-between">
				<div class="flex space-x-7">
					<div>
						<a th:href="@{/}" class="flex items-center py-4 px-2"> <span
							class="font-bold text-gray-700 text-2xl">SwapLife ЁЯМН</span>
						</a>
					</div>
				</div>
				<div class="hidden md:flex items-center space-x-3">
					<a th:href="@{/}"
						class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">ЁЯПа
						р╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Б</a> <a th:href="@{/items/list}"
						class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">ЁЯУж
						р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕кр╕┤р╣Ир╕Зр╕Вр╕нр╕З</a> <a th:href="@{/items/post}"
						class="py-4 px-2 text-gray-500 font-semibold hover:text-green-500 transition duration-300">тЮХ
						р╣Вр╕Юр╕кр╕Хр╣Мр╕Вр╕нр╕З</a> <a th:href="@{/profile}"
						class="py-4 px-2 text-green-500 border-b-4 border-green-500 font-semibold">ЁЯСд
						р╣Вр╕Ыр╕гр╣Др╕Яр╕ер╣М</a>
				</div>
				<div class="md:hidden flex items-center">
					<button class="outline-none mobile-menu-button">
						<svg class="w-6 h-6 text-gray-500" fill="none"
							stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
							viewBox="0 0 24 24" stroke="currentColor">
                            <path d="M4 6h16M4 12h16m-7 6h7"></path>
                        </svg>
					</button>
				</div>
			</div>
		</div>
	</nav>

	<!-- Content -->
	<main class="flex-grow">
		<section class="max-w-6xl mx-auto px-6 py-12">
			<div class="bg-white rounded-2xl shadow-lg p-8">
				<div class="grid grid-cols-1 md:grid-cols-2 gap-10">

					<!-- ЁЯФ╣ р╕ар╕▓р╕Юр╕кр╕┤р╕Щр╕Др╣Йр╕▓ -->
					<div>
						<img th:src="${item.thumbnailUrl}" alt="р╕ар╕▓р╕Юр╕кр╕┤р╕Щр╕Др╣Йр╕▓"
							class="w-full h-80 object-cover rounded-xl shadow-lg mb-4">

						<!-- ЁЯФ╣ р╣Бр╕кр╕Фр╕Зр╕ар╕▓р╕Юр╣Ар╕кр╕гр╕┤р╕б -->
						<div class="flex flex-wrap gap-3">
							<img th:each="img : ${item.images}" th:src="${img.imageUrl}"
								th:if="${!img.thumbnail}"
								class="w-24 h-24 object-cover rounded-lg shadow hover:scale-105 transition duration-300 cursor-pointer" />
						</div>
					</div>

					<!-- ЁЯФ╣ р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕кр╕┤р╕Щр╕Др╣Йр╕▓ -->
					<div>
						<h1 class="text-3xl font-bold text-gray-800 mb-3"
							th:text="${item.title}">р╕Кр╕╖р╣Ир╕нр╕кр╕┤р╕Щр╕Др╣Йр╕▓</h1>
						<p class="text-gray-600 text-base leading-relaxed mb-6"
							th:text="${item.description}">р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕кр╕┤р╕Щр╕Др╣Йр╕▓...</p>

						<!-- ЁЯФ╕ р╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Хр╕┤р╕б -->
						<div class="grid grid-cols-2 gap-4 text-gray-700 mb-6">
							<p>
								<strong>р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И:</strong> <span th:text="${item.category.name}">р╕лр╕бр╕зр╕Фр╕лр╕бр╕╣р╣И</span>
							</p>
							<p>
								<strong>р╕кр╕ар╕▓р╕Юр╕кр╕┤р╣Ир╕Зр╕Вр╕нр╕З:</strong> <span
									th:text="${item.itemCondition}">р╣Гр╕лр╕бр╣И</span>
							</p>
							<p>
								<strong>р╕Ыр╕гр╕░р╣Ар╕ар╕Ч:</strong> <span th:text="${item.listingType}">р╣Бр╕ер╕Бр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ</span>
							</p>
							<p>
								<strong>р╕кр╕Цр╕▓р╕Щр╕░:</strong> <span th:text="${item.status}">р╕зр╣Ир╕▓р╕З</span>
							</p>
						</div>

						<!-- ЁЯФ╣ р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕нр╕вр╕▓р╕Бр╣Бр╕ер╕Б -->
						<div class="mb-6">
							<h3 class="text-lg font-semibold text-gray-800 mb-2">р╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕нр╕вр╕▓р╕Бр╣Бр╕ер╕Б</h3>
							<p class="text-gray-700 italic"
								th:text="${item.desiredItems != null && !#strings.isEmpty(item.desiredItems) ? item.desiredItems : 'тАФ'}">р╕лр╕Щр╕▒р╕Зр╕кр╕╖р╕н,
								р╕гр╕нр╕Зр╣Ар╕Чр╣Йр╕▓</p>
						</div>

						<!-- ЁЯФ╣ р╣Ар╕Ир╣Йр╕▓р╕Вр╕нр╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓ -->
						<div class="flex items-center space-x-4 mb-8">
							<div
								class="w-12 h-12 bg-green-500 text-white flex items-center justify-center rounded-full text-lg font-bold"
								th:text="${item.user.username.substring(0,1).toUpperCase()}">A</div>
							<div>
								<p class="font-semibold text-gray-800"
									th:text="${item.user.firstName != null && item.user.firstName != '' ? item.user.firstName : item.user.username}">
									р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й</p>
								<p class="text-sm text-gray-500"
									th:text="${#temporals.format(item.createdAt, 'dd/MM/yyyy HH:mm')}">
									р╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╣Вр╕Юр╕кр╕Хр╣М</p>
							</div>
						</div>

						<!-- ЁЯФ╣ р╕Ыр╕╕р╣Ир╕бр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ -->
						<div class="flex gap-4">
							<!-- ЁЯФД р╕Ыр╕╕р╣Ир╕бр╕Вр╕нр╣Бр╕ер╕Бр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ -->
							<a
								th:if="${item.listingType.name() == 'р╣Бр╕ер╕Бр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ' and !isOwner}"
								th:href="@{/swap/offer(itemId=${item.itemId})}"
								class="bg-green-600 hover:bg-green-700 text-white font-semibold px-6 py-3 rounded-lg transition duration-300">
								ЁЯФД р╕Вр╕нр╣Бр╕ер╕Бр╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ </a>

							<!-- ЁЯОБ р╕Ыр╕╕р╣Ир╕бр╕Вр╕нр╕гр╕▒р╕Ър╕Ър╕гр╕┤р╕Ир╕▓р╕Д -->
							<a th:if="${item.listingType.name() == 'р╕Ър╕гр╕┤р╕Ир╕▓р╕Д' and !isOwner}"
								th:href="@{/donate/request(itemId=${item.itemId})}"
								class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-3 rounded-lg transition duration-300">
								ЁЯОБ р╕Вр╕нр╕гр╕▒р╕Ър╕Ър╕гр╕┤р╕Ир╕▓р╕Д </a>

							<!-- ЁЯФТ р╕Ыр╕╕р╣Ир╕бр╕Цр╕╣р╕Бр╕Лр╣Ир╕нр╕Щр╣Ар╕Юр╕гр╕▓р╕░р╣Ар╕Ыр╣Зр╕Щр╣Ар╕Ир╣Йр╕▓р╕Вр╕нр╕З -->
							<div th:if="${isOwner}"
								class="bg-gray-100 text-gray-500 border border-gray-300 rounded-lg px-6 py-3 font-medium inline-block">
								ЁЯФТ р╕Др╕╕р╕Ур╣Ар╕Ыр╣Зр╕Щр╣Ар╕Ир╣Йр╕▓р╕Вр╕нр╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕Щр╕╡р╣Й</div>

							<a th:href="@{/items/list}"
								class="border border-gray-400 text-gray-600 px-6 py-3 rounded-lg hover:bg-gray-100 transition duration-300">
								тмЕ р╕Бр╕ер╕▒р╕Ър╣Др╕Ыр╕лр╕Щр╣Йр╕▓р╕гр╕▓р╕вр╕Бр╕▓р╕г </a>
						</div>
					</div>
				</div>
			</div>
		</section>
	</main>

	<!-- Footer -->
	<footer class="bg-gray-800 text-white py-8 mt-16">
		<div class="container mx-auto text-center">
			<p class="mb-2">&copy; 2025 SwapLife. All Rights Reserved.</p>
			<p class="text-sm text-gray-400">р╣Гр╕лр╣Йр╕Вр╕нр╕Зр╕Чр╕╡р╣Ир╣Др╕бр╣Ир╣Др╕Фр╣Йр╣Гр╕Кр╣Й
				р╕Бр╕ер╕▒р╕Ър╣Др╕Ыр╕бр╕╡р╕Др╕╕р╕Ур╕Др╣Ир╕▓р╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕З ЁЯМН</p>
		</div>
	</footer>

</body>
</html>
